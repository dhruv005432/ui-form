<header class="modern-header" [class.scrolled]="isScrolled">
  <!-- Top Bar -->
  <div class="top-bar">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-6">
          <div class="contact-info">
            <span class="me-3">
              <i class="fas fa-envelope"></i>
              <small>support&#64;uiform.com</small>
            </span>
            <span>
              <i class="fas fa-phone"></i>
              <small>+1 (555) 123-4567</small>
            </span>
          </div>
        </div>
        <div class="col-md-6 text-end">
          <div class="datetime-info">
            <span class="me-3">
              <i class="fas fa-calendar"></i>
              <small>{{ formatDate() }}</small>
            </span>
            <span>
              <i class="fas fa-clock"></i>
              <small>{{ formatTime() }}</small>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container">
      <!-- Logo -->
      <a class="navbar-brand d-flex align-items-center" [routerLink]="['/']" (click)="closeMobileMenu()">
        <div class="logo-container">
          <i class="fas fa-layer-group"></i>
        </div>
        <div class="brand-text">
          <strong>UI Form</strong>
          <span class="tagline">Smart Forms</span>
        </div>
      </a>

      <!-- Mobile Menu Toggle -->
      <button class="mobile-menu-toggle" (click)="toggleMobileMenu()" [class.active]="isMobileMenuOpen">
        <span></span>
        <span></span>
        <span></span>
      </button>

      <!-- Navigation Menu -->
      <div class="collapse navbar-collapse" [class.show]="isMobileMenuOpen">
        <ul class="navbar-nav mx-auto">
          <li class="nav-item">
            <a class="nav-link" [routerLink]="['/']" (click)="closeMobileMenu()">
              <i class="fas fa-home me-1"></i> Home
            </a>
          </li>
          
          <li class="nav-item" *ngIf="isLoggedIn">
            <a class="nav-link" (click)="navigateToDashboard()">
              <i class="fas fa-tachometer-alt me-1"></i> Dashboard
            </a>
          </li>
          
          <li class="nav-item" *ngIf="isLoggedIn && isAdmin">
            <a class="nav-link" [routerLink]="['/admin-dashboard']" (click)="closeMobileMenu()">
              <i class="fas fa-cog me-1"></i> Admin Panel
            </a>
          </li>
          
          <li class="nav-item">
            <a class="nav-link" [routerLink]="['/contact']" (click)="closeMobileMenu()">
              <i class="fas fa-envelope me-1"></i> Contact
            </a>
          </li>
        </ul>

        <!-- User Actions -->
        <div class="user-actions">
          <!-- Guest Actions -->
          <ng-container *ngIf="!isLoggedIn">
            <button class="btn btn-outline-light btn-sm me-2" [routerLink]="['/login']" (click)="closeMobileMenu()">
              <i class="fas fa-sign-in-alt me-1"></i> Login
            </button>
            <button class="btn btn-light btn-sm" [routerLink]="['/register']" (click)="closeMobileMenu()">
              <i class="fas fa-user-plus me-1"></i> Register
            </button>
          </ng-container>

          <!-- Logged-in User Actions -->
          <ng-container *ngIf="isLoggedIn">
            <!-- Notifications -->
            <div class="notification-bell me-3">
              <button class="btn-icon">
                <i class="fas fa-bell"></i>
                <span class="notification-badge" *ngIf="getNotificationCount() > 0">
                  {{ getNotificationCount() }}
                </span>
              </button>
            </div>

            <!-- User Dropdown -->
            <div class="user-dropdown" [class.show]="isDropdownOpen">
              <button class="user-menu-btn" (click)="toggleDropdown()">
                <div class="user-avatar">
                  {{ getUserInitials() }}
                </div>
                <div class="user-info">
                  <span class="user-name">{{ currentUser?.fullName || 'User' }}</span>
                  <span class="user-role">{{ getUserRoleBadge() }}</span>
                </div>
                <i class="fas fa-chevron-down dropdown-arrow"></i>
              </button>

              <div class="dropdown-menu" [class.show]="isDropdownOpen">
                <div class="dropdown-header">
                  <div class="user-avatar-large">{{ getUserInitials() }}</div>
                  <div class="user-details">
                    <h6>{{ currentUser?.fullName || 'User' }}</h6>
                    <p>{{ currentUser?.email || 'user@example.com' }}</p>
                    <span class="role-badge" [class.admin]="isAdmin">{{ getUserRoleBadge() }}</span>
                  </div>
                </div>
                
                <div class="dropdown-divider"></div>
                
                <a class="dropdown-item" (click)="navigateToProfile()">
                  <i class="fas fa-user-circle me-2"></i> Profile
                </a>
                <a class="dropdown-item" (click)="navigateToDashboard()">
                  <i class="fas fa-tachometer-alt me-2"></i> Dashboard
                </a>
                <a class="dropdown-item" [routerLink]="['/change-password']" (click)="isDropdownOpen = false">
                  <i class="fas fa-key me-2"></i> Change Password
                </a>
                <a class="dropdown-item" href="#">
                  <i class="fas fa-cog me-2"></i> Settings
                </a>
                
                <div class="dropdown-divider"></div>
                
                <a class="dropdown-item logout-item" (click)="onLogout($event)">
                  <i class="fas fa-sign-out-alt me-2"></i> Logout
                </a>
              </div>
            </div>
          </ng-container>
        </div>
      </div>
    </div>
  </nav>

  <!-- Mobile Menu Overlay -->
  <div class="mobile-menu-overlay" [class.active]="isMobileMenuOpen" (click)="closeMobileMenu()"></div>
</header>